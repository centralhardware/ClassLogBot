<div id="page-audit-log" class="page-section">
    <div id="audit-log-loading" class="loading hidden">Загрузка журнала...</div>
    <div id="audit-log-error" class="error-message hidden"></div>

    <div id="audit-log-filters" class="hidden" style="margin-bottom: 16px; background: white; padding: 12px; border-radius: 12px; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
        <div style="font-size: 14px; font-weight: 600; margin-bottom: 8px; color: #2d3748;">Фильтры</div>

        <div id="audit-log-tutor-filter-container" class="hidden" style="margin-bottom: 8px;">
            <select id="audit-log-tutor-filter" style="width: 100%; padding: 8px; border: 1px solid #e2e8f0; border-radius: 8px; font-size: 14px;">
                <option value="">Все учителя</option>
            </select>
        </div>

        <div style="margin-bottom: 8px;">
            <select id="audit-log-subject-filter" style="width: 100%; padding: 8px; border: 1px solid #e2e8f0; border-radius: 8px; font-size: 14px;">
                <option value="">Все предметы</option>
            </select>
        </div>

        <div style="margin-bottom: 8px;">
            <select id="audit-log-action-filter" style="width: 100%; padding: 8px; border: 1px solid #e2e8f0; border-radius: 8px; font-size: 14px;">
                <option value="">Все действия</option>
                <option value="CREATE">Создано</option>
                <option value="UPDATE">Изменено</option>
                <option value="DELETE">Удалено</option>
            </select>
        </div>

        <button id="audit-log-apply-filters" style="width: 100%; padding: 8px; background: #3182ce; color: white; border: none; border-radius: 8px; font-size: 14px; font-weight: 600; cursor: pointer;">
            Применить фильтры
        </button>
    </div>

    <div id="audit-log-content" class="hidden">
        <div id="audit-log-list"></div>

        <div id="audit-log-loading-more" class="loading-more hidden">Загрузка...</div>
        <div id="audit-log-end" class="end-message hidden">Все записи загружены</div>
    </div>
</div>

<!-- Audit Log Details Modal -->
<div id="audit-log-details-modal" class="modal">
    <div class="modal-content">
        <h3>Детали записи</h3>

        <div class="form-group">
            <label style="color: #718096; font-size: 13px;">Дата и время</label>
            <div id="audit-details-timestamp" style="font-size: 15px; font-weight: 600; color: #2d3748;"></div>
        </div>

        <div class="form-group">
            <label style="color: #718096; font-size: 13px;">Пользователь</label>
            <div id="audit-details-user" style="font-size: 15px; color: #2d3748;"></div>
        </div>

        <div class="form-group">
            <label style="color: #718096; font-size: 13px;">Действие</label>
            <div id="audit-details-action" style="font-size: 15px;"></div>
        </div>

        <div class="form-group">
            <label style="color: #718096; font-size: 13px;">Детали</label>
            <div id="audit-details-content" style="font-size: 14px; color: #2d3748; max-height: 400px; overflow-y: auto;"></div>
        </div>

        <div id="audit-details-entity-id-group" class="form-group" style="display: none;">
            <label style="color: #718096; font-size: 13px;">ID сущности</label>
            <div style="display: flex; align-items: center; gap: 8px;">
                <div id="audit-details-entity-id" style="font-size: 14px; color: #2d3748; font-family: monospace;"></div>
                <button onclick="copyEntityId()" style="padding: 4px 8px; background: #e2e8f0; border: none; border-radius: 6px; cursor: pointer; font-size: 12px;">
                    Копировать
                </button>
            </div>
        </div>

        <div class="modal-buttons">
            <button class="modal-button secondary" onclick="copyAuditDetails()" style="background: #48bb78; color: white;">
                Копировать текст
            </button>
            <button class="modal-button secondary" onclick="shareAuditDetails()">
                Поделиться
            </button>
            <button class="modal-button secondary" onclick="closeAuditDetailsModal()">Закрыть</button>
        </div>
    </div>
</div>
